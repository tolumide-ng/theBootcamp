'use strict';var cov_2emtshupzh=function(){var path="C:\\Users\\HP\\Desktop\\theBootcamp\\v1\\models\\usersModels.js",hash="7b43d2e66c251727679af27f1618c221b913e3af",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\HP\\Desktop\\theBootcamp\\v1\\models\\usersModels.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:563}},"2":{start:{line:7,column:76},end:{line:7,column:347}},"3":{start:{line:7,column:134},end:{line:7,column:142}},"4":{start:{line:7,column:144},end:{line:7,column:199}},"5":{start:{line:7,column:200},end:{line:7,column:231}},"6":{start:{line:7,column:232},end:{line:7,column:286}},"7":{start:{line:7,column:259},end:{line:7,column:286}},"8":{start:{line:7,column:287},end:{line:7,column:345}},"9":{start:{line:7,column:350},end:{line:7,column:559}},"10":{start:{line:7,column:407},end:{line:7,column:475}},"11":{start:{line:7,column:423},end:{line:7,column:475}},"12":{start:{line:7,column:476},end:{line:7,column:536}},"13":{start:{line:7,column:493},end:{line:7,column:536}},"14":{start:{line:7,column:537},end:{line:7,column:556}},"15":{start:{line:10,column:14},end:{line:10,column:31}},"16":{start:{line:12,column:15},end:{line:12,column:46}},"17":{start:{line:14,column:12},end:{line:14,column:27}},"18":{start:{line:16,column:13},end:{line:16,column:42}},"19":{start:{line:18,column:21},end:{line:18,column:55}},"20":{start:{line:20,column:22},end:{line:20,column:60}},"21":{start:{line:22,column:39},end:{line:22,column:93}},"22":{start:{line:24,column:50},end:{line:24,column:151}},"23":{start:{line:24,column:92},end:{line:24,column:149}},"24":{start:{line:26,column:11},end:{line:125,column:3}},"25":{start:{line:28,column:4},end:{line:28,column:32}},"26":{start:{line:30,column:4},end:{line:30,column:20}},"27":{start:{line:33,column:2},end:{line:122,column:6}},"28":{start:{line:36,column:20},end:{line:48,column:7}},"29":{start:{line:49,column:6},end:{line:49,column:31}},"30":{start:{line:50,column:6},end:{line:50,column:21}},"31":{start:{line:55,column:24},end:{line:55,column:50}},"32":{start:{line:56,column:32},end:{line:58,column:8}},"33":{start:{line:57,column:8},end:{line:57,column:43}},"34":{start:{line:59,column:6},end:{line:69,column:7}},"35":{start:{line:60,column:23},end:{line:65,column:9}},"36":{start:{line:66,column:8},end:{line:66,column:57}},"37":{start:{line:67,column:13},end:{line:69,column:7}},"38":{start:{line:68,column:8},end:{line:68,column:54}},"39":{start:{line:70,column:6},end:{line:70,column:39}},"40":{start:{line:75,column:24},end:{line:75,column:50}},"41":{start:{line:76,column:32},end:{line:78,column:8}},"42":{start:{line:77,column:8},end:{line:77,column:43}},"43":{start:{line:79,column:6},end:{line:82,column:7}},"44":{start:{line:80,column:20},end:{line:80,column:82}},"45":{start:{line:81,column:8},end:{line:81,column:59}},"46":{start:{line:87,column:6},end:{line:89,column:9}},"47":{start:{line:88,column:8},end:{line:88,column:38}},"48":{start:{line:94,column:6},end:{line:96,column:9}},"49":{start:{line:95,column:8},end:{line:95,column:36}},"50":{start:{line:101,column:6},end:{line:103,column:9}},"51":{start:{line:102,column:8},end:{line:102,column:42}},"52":{start:{line:108,column:20},end:{line:108,column:41}},"53":{start:{line:109,column:18},end:{line:109,column:45}},"54":{start:{line:110,column:6},end:{line:110,column:34}},"55":{start:{line:111,column:6},end:{line:111,column:16}},"56":{start:{line:119,column:20},end:{line:119,column:41}},"57":{start:{line:120,column:6},end:{line:120,column:21}},"58":{start:{line:124,column:2},end:{line:124,column:14}},"59":{start:{line:127,column:0},end:{line:127,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},"1":{name:"defineProperties",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},"3":{name:"_interopRequireDefault",decl:{start:{line:22,column:9},end:{line:22,column:31}},loc:{start:{line:22,column:37},end:{line:22,column:95}},line:22},"4":{name:"_classCallCheck",decl:{start:{line:24,column:9},end:{line:24,column:24}},loc:{start:{line:24,column:48},end:{line:24,column:153}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:26,column:11},end:{line:26,column:12}},loc:{start:{line:26,column:23},end:{line:125,column:1}},line:26},"6":{name:"User",decl:{start:{line:27,column:11},end:{line:27,column:15}},loc:{start:{line:27,column:18},end:{line:31,column:3}},line:27},"7":{name:"signup",decl:{start:{line:35,column:20},end:{line:35,column:26}},loc:{start:{line:35,column:33},end:{line:51,column:5}},line:35},"8":{name:"attendMeetup",decl:{start:{line:54,column:20},end:{line:54,column:32}},loc:{start:{line:54,column:39},end:{line:71,column:5}},line:54},"9":{name:"(anonymous_9)",decl:{start:{line:56,column:71},end:{line:56,column:72}},loc:{start:{line:56,column:87},end:{line:58,column:7}},line:56},"10":{name:"unAttendMeetup",decl:{start:{line:74,column:20},end:{line:74,column:34}},loc:{start:{line:74,column:41},end:{line:83,column:5}},line:74},"11":{name:"(anonymous_11)",decl:{start:{line:76,column:71},end:{line:76,column:72}},loc:{start:{line:76,column:87},end:{line:78,column:7}},line:76},"12":{name:"findUser",decl:{start:{line:86,column:20},end:{line:86,column:28}},loc:{start:{line:86,column:37},end:{line:90,column:5}},line:86},"13":{name:"(anonymous_13)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:45},end:{line:89,column:7}},line:87},"14":{name:"confirm",decl:{start:{line:93,column:20},end:{line:93,column:27}},loc:{start:{line:93,column:35},end:{line:97,column:5}},line:93},"15":{name:"(anonymous_15)",decl:{start:{line:94,column:29},end:{line:94,column:30}},loc:{start:{line:94,column:45},end:{line:96,column:7}},line:94},"16":{name:"login",decl:{start:{line:100,column:20},end:{line:100,column:25}},loc:{start:{line:100,column:36},end:{line:104,column:5}},line:100},"17":{name:"(anonymous_17)",decl:{start:{line:101,column:29},end:{line:101,column:30}},loc:{start:{line:101,column:45},end:{line:103,column:7}},line:101},"18":{name:"deleteUser",decl:{start:{line:107,column:20},end:{line:107,column:30}},loc:{start:{line:107,column:39},end:{line:112,column:5}},line:107},"19":{name:"userInfor",decl:{start:{line:118,column:20},end:{line:118,column:29}},loc:{start:{line:118,column:38},end:{line:121,column:5}},line:118}},branchMap:{"0":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:"binary-expr",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},"1":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:"if",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},"2":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:"if",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},"3":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:"if",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},"4":{loc:{start:{line:22,column:46},end:{line:22,column:92}},type:"cond-expr",locations:[{start:{line:22,column:70},end:{line:22,column:73}},{start:{line:22,column:76},end:{line:22,column:92}}],line:22},"5":{loc:{start:{line:22,column:46},end:{line:22,column:67}},type:"binary-expr",locations:[{start:{line:22,column:46},end:{line:22,column:49}},{start:{line:22,column:53},end:{line:22,column:67}}],line:22},"6":{loc:{start:{line:24,column:50},end:{line:24,column:151}},type:"if",locations:[{start:{line:24,column:50},end:{line:24,column:151}},{start:{line:24,column:50},end:{line:24,column:151}}],line:24},"7":{loc:{start:{line:41,column:19},end:{line:41,column:39}},type:"binary-expr",locations:[{start:{line:41,column:19},end:{line:41,column:33}},{start:{line:41,column:37},end:{line:41,column:39}}],line:41},"8":{loc:{start:{line:47,column:15},end:{line:47,column:31}},type:"binary-expr",locations:[{start:{line:47,column:15},end:{line:47,column:25}},{start:{line:47,column:29},end:{line:47,column:31}}],line:47},"9":{loc:{start:{line:59,column:6},end:{line:69,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:69,column:7}},{start:{line:59,column:6},end:{line:69,column:7}}],line:59},"10":{loc:{start:{line:59,column:10},end:{line:59,column:45}},type:"binary-expr",locations:[{start:{line:59,column:10},end:{line:59,column:21}},{start:{line:59,column:25},end:{line:59,column:45}}],line:59},"11":{loc:{start:{line:67,column:13},end:{line:69,column:7}},type:"if",locations:[{start:{line:67,column:13},end:{line:69,column:7}},{start:{line:67,column:13},end:{line:69,column:7}}],line:67},"12":{loc:{start:{line:67,column:17},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:17},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67},"13":{loc:{start:{line:79,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:79,column:6},end:{line:82,column:7}},{start:{line:79,column:6},end:{line:82,column:7}}],line:79},"14":{loc:{start:{line:79,column:10},end:{line:79,column:44}},type:"binary-expr",locations:[{start:{line:79,column:10},end:{line:79,column:21}},{start:{line:79,column:25},end:{line:79,column:44}}],line:79}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2emtshupzh.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _createClass=(cov_2emtshupzh.s[1]++,function(){cov_2emtshupzh.f[0]++;function defineProperties(target,props){cov_2emtshupzh.f[1]++;cov_2emtshupzh.s[2]++;for(var i=0;i<props.length;i++){var descriptor=(cov_2emtshupzh.s[3]++,props[i]);cov_2emtshupzh.s[4]++;descriptor.enumerable=(cov_2emtshupzh.b[0][0]++,descriptor.enumerable)||(cov_2emtshupzh.b[0][1]++,false);cov_2emtshupzh.s[5]++;descriptor.configurable=true;cov_2emtshupzh.s[6]++;if("value"in descriptor){cov_2emtshupzh.b[1][0]++;cov_2emtshupzh.s[7]++;descriptor.writable=true;}else{cov_2emtshupzh.b[1][1]++;}cov_2emtshupzh.s[8]++;Object.defineProperty(target,descriptor.key,descriptor);}}cov_2emtshupzh.s[9]++;return function(Constructor,protoProps,staticProps){cov_2emtshupzh.f[2]++;cov_2emtshupzh.s[10]++;if(protoProps){cov_2emtshupzh.b[2][0]++;cov_2emtshupzh.s[11]++;defineProperties(Constructor.prototype,protoProps);}else{cov_2emtshupzh.b[2][1]++;}cov_2emtshupzh.s[12]++;if(staticProps){cov_2emtshupzh.b[3][0]++;cov_2emtshupzh.s[13]++;defineProperties(Constructor,staticProps);}else{cov_2emtshupzh.b[3][1]++;}cov_2emtshupzh.s[14]++;return Constructor;};}());//Import dependencies
var _moment=(cov_2emtshupzh.s[15]++,require('moment'));var _moment2=(cov_2emtshupzh.s[16]++,_interopRequireDefault(_moment));var _uuid=(cov_2emtshupzh.s[17]++,require('uuid'));var _uuid2=(cov_2emtshupzh.s[18]++,_interopRequireDefault(_uuid));var _meetupsModels=(cov_2emtshupzh.s[19]++,require('../models/meetupsModels'));var _meetupsModels2=(cov_2emtshupzh.s[20]++,_interopRequireDefault(_meetupsModels));function _interopRequireDefault(obj){cov_2emtshupzh.f[3]++;cov_2emtshupzh.s[21]++;return(cov_2emtshupzh.b[5][0]++,obj)&&(cov_2emtshupzh.b[5][1]++,obj.__esModule)?(cov_2emtshupzh.b[4][0]++,obj):(cov_2emtshupzh.b[4][1]++,{default:obj});}function _classCallCheck(instance,Constructor){cov_2emtshupzh.f[4]++;cov_2emtshupzh.s[22]++;if(!(instance instanceof Constructor)){cov_2emtshupzh.b[6][0]++;cov_2emtshupzh.s[23]++;throw new TypeError("Cannot call a class as a function");}else{cov_2emtshupzh.b[6][1]++;}}var User=(cov_2emtshupzh.s[24]++,function(){cov_2emtshupzh.f[5]++;function User(){cov_2emtshupzh.f[6]++;cov_2emtshupzh.s[25]++;_classCallCheck(this,User);cov_2emtshupzh.s[26]++;this.users=[];}cov_2emtshupzh.s[27]++;_createClass(User,[{key:'signup',value:function signup(data){cov_2emtshupzh.f[7]++;var newUser=(cov_2emtshupzh.s[28]++,{userId:_uuid2.default.v4(),registeredId:_moment2.default.now(),firstName:data.firstName,lastName:data.lastName,otherName:(cov_2emtshupzh.b[7][0]++,data.otherName)||(cov_2emtshupzh.b[7][1]++,''),userName:data.userName,email:data.email,phoneNumber:data.phoneNumber,isAdmin:data.isAdmin,password:data.password,image:(cov_2emtshupzh.b[8][0]++,data.image)||(cov_2emtshupzh.b[8][1]++,'')});cov_2emtshupzh.s[29]++;this.users.push(newUser);cov_2emtshupzh.s[30]++;return newUser;}},{key:'attendMeetup',value:function attendMeetup(data){cov_2emtshupzh.f[8]++;var confirmUser=(cov_2emtshupzh.s[31]++,this.findUser(data.userId));var confirmUserAttendng=(cov_2emtshupzh.s[32]++,_meetupsModels2.default.attending.find(function(user){cov_2emtshupzh.f[9]++;cov_2emtshupzh.s[33]++;return user.userId===data.userId;}));cov_2emtshupzh.s[34]++;if((cov_2emtshupzh.b[10][0]++,confirmUser)&&(cov_2emtshupzh.b[10][1]++,!confirmUserAttendng)){cov_2emtshupzh.b[9][0]++;var attendee=(cov_2emtshupzh.s[35]++,{userId:data.userId,meetupId:data.meetupId,meetup:data.meetup,user:data.user});cov_2emtshupzh.s[36]++;_meetupsModels2.default.attending.push(attendee);}else{cov_2emtshupzh.b[9][1]++;cov_2emtshupzh.s[37]++;if((cov_2emtshupzh.b[12][0]++,confirmUser)&&(cov_2emtshupzh.b[12][1]++,confirmUserAttendng)){cov_2emtshupzh.b[11][0]++;cov_2emtshupzh.s[38]++;return'You already signed up for this event';}else{cov_2emtshupzh.b[11][1]++;}}cov_2emtshupzh.s[39]++;return'Incorrect data supplied';}},{key:'unAttendMeetup',value:function unAttendMeetup(data){cov_2emtshupzh.f[10]++;var confirmUser=(cov_2emtshupzh.s[40]++,this.findUser(data.userId));var confirmUserAttendng=(cov_2emtshupzh.s[41]++,_meetupsModels2.default.attending.find(function(user){cov_2emtshupzh.f[11]++;cov_2emtshupzh.s[42]++;return user.userId===data.userId;}));cov_2emtshupzh.s[43]++;if((cov_2emtshupzh.b[14][0]++,confirmUser)&&(cov_2emtshupzh.b[14][1]++,confirmUserAttendng)){cov_2emtshupzh.b[13][0]++;var index=(cov_2emtshupzh.s[44]++,_meetupsModels2.default.attending.indexOf(confirmUserAttendng));cov_2emtshupzh.s[45]++;_meetupsModels2.default.attending.splice(index,1);}else{cov_2emtshupzh.b[13][1]++;}}},{key:'findUser',value:function findUser(userId){cov_2emtshupzh.f[12]++;cov_2emtshupzh.s[46]++;return this.users.find(function(user){cov_2emtshupzh.f[13]++;cov_2emtshupzh.s[47]++;return user.userId===userId;});}},{key:'confirm',value:function confirm(email){cov_2emtshupzh.f[14]++;cov_2emtshupzh.s[48]++;return this.users.find(function(user){cov_2emtshupzh.f[15]++;cov_2emtshupzh.s[49]++;return user.email===email;});}},{key:'login',value:function login(password){cov_2emtshupzh.f[16]++;cov_2emtshupzh.s[50]++;return this.users.find(function(user){cov_2emtshupzh.f[17]++;cov_2emtshupzh.s[51]++;return user.password===password;});}},{key:'deleteUser',value:function deleteUser(userId){cov_2emtshupzh.f[18]++;var theUser=(cov_2emtshupzh.s[52]++,this.findUser(userId));var index=(cov_2emtshupzh.s[53]++,this.users.indexOf(theUser));cov_2emtshupzh.s[54]++;this.users.splice(index,1);cov_2emtshupzh.s[55]++;return{};}// to be rendered on the profile page
},{key:'userInfor',value:function userInfor(userId){cov_2emtshupzh.f[19]++;var theUser=(cov_2emtshupzh.s[56]++,this.findUser(userId));cov_2emtshupzh.s[57]++;return theUser;}}]);cov_2emtshupzh.s[58]++;return User;}());cov_2emtshupzh.s[59]++;exports.default=new User();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzTW9kZWxzLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJ1c2VycyIsImRhdGEiLCJuZXdVc2VyIiwidXNlcklkIiwidXVpZCIsInY0IiwicmVnaXN0ZXJlZElkIiwibW9tZW50Iiwibm93IiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJvdGhlck5hbWUiLCJ1c2VyTmFtZSIsImVtYWlsIiwicGhvbmVOdW1iZXIiLCJpc0FkbWluIiwicGFzc3dvcmQiLCJpbWFnZSIsInB1c2giLCJjb25maXJtVXNlciIsImZpbmRVc2VyIiwiY29uZmlybVVzZXJBdHRlbmRuZyIsIm1lZXR1cE1vZGVsIiwiYXR0ZW5kaW5nIiwiZmluZCIsInVzZXIiLCJhdHRlbmRlZSIsIm1lZXR1cElkIiwibWVldHVwIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidGhlVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FqQkFBQTs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUdNQSxJO0FBQ0osa0JBQWM7QUFBQTs7QUFDWixTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNEOzs7OzJCQUVNQyxJLEVBQU07QUFDWCxVQUFNQyxVQUFVO0FBQ2RDLGdCQUFRQyxlQUFLQyxFQUFMLEVBRE07QUFFZEMsc0JBQWNDLGlCQUFPQyxHQUFQLEVBRkE7QUFHZEMsbUJBQVdSLEtBQUtRLFNBSEY7QUFJZEMsa0JBQVVULEtBQUtTLFFBSkQ7QUFLZEMsbUJBQVdWLEtBQUtVLFNBQUwsSUFBa0IsRUFMZjtBQU1kQyxrQkFBVVgsS0FBS1csUUFORDtBQU9kQyxlQUFPWixLQUFLWSxLQVBFO0FBUWRDLHFCQUFhYixLQUFLYSxXQVJKO0FBU2RDLGlCQUFTZCxLQUFLYyxPQVRBO0FBVWRDLGtCQUFVZixLQUFLZSxRQVZEO0FBV2RDLGVBQU9oQixLQUFLZ0IsS0FBTCxJQUFjO0FBWFAsT0FBaEI7QUFhQSxXQUFLakIsS0FBTCxDQUFXa0IsSUFBWCxDQUFnQmhCLE9BQWhCO0FBQ0EsYUFBT0EsT0FBUDtBQUNEOzs7aUNBRVlELEksRUFBTTtBQUNqQixVQUFNa0IsY0FBYyxLQUFLQyxRQUFMLENBQWNuQixLQUFLRSxNQUFuQixDQUFwQjtBQUNBLFVBQU1rQixzQkFBc0JDLHdCQUFZQyxTQUFaLENBQXNCQyxJQUF0QixDQUEyQjtBQUFBLGVBQVFDLEtBQUt0QixNQUFMLEtBQWdCRixLQUFLRSxNQUE3QjtBQUFBLE9BQTNCLENBQTVCO0FBQ0EsVUFBSWdCLGVBQWUsQ0FBQ0UsbUJBQXBCLEVBQXlDO0FBQ3ZDLFlBQU1LLFdBQVc7QUFDZnZCLGtCQUFRRixLQUFLRSxNQURFO0FBRWZ3QixvQkFBVTFCLEtBQUswQixRQUZBO0FBR2ZDLGtCQUFRM0IsS0FBSzJCLE1BSEU7QUFJZkgsZ0JBQU14QixLQUFLd0I7QUFKSSxTQUFqQjtBQU1BSCxnQ0FBWUMsU0FBWixDQUFzQkwsSUFBdEIsQ0FBMkJRLFFBQTNCO0FBQ0QsT0FSRCxNQVFPLElBQUlQLGVBQWVFLG1CQUFuQixFQUF3QztBQUM3QyxlQUFPLHNDQUFQO0FBQ0Q7QUFDRCxhQUFPLHlCQUFQO0FBQ0Q7OzttQ0FFY3BCLEksRUFBTTtBQUNuQixVQUFNa0IsY0FBYyxLQUFLQyxRQUFMLENBQWNuQixLQUFLRSxNQUFuQixDQUFwQjtBQUNBLFVBQU1rQixzQkFBc0JDLHdCQUFZQyxTQUFaLENBQXNCQyxJQUF0QixDQUEyQjtBQUFBLGVBQVFDLEtBQUt0QixNQUFMLEtBQWdCRixLQUFLRSxNQUE3QjtBQUFBLE9BQTNCLENBQTVCO0FBQ0EsVUFBSWdCLGVBQWVFLG1CQUFuQixFQUF3QztBQUN0QyxZQUFNUSxRQUFRUCx3QkFBWUMsU0FBWixDQUFzQk8sT0FBdEIsQ0FBOEJULG1CQUE5QixDQUFkO0FBQ0FDLGdDQUFZQyxTQUFaLENBQXNCUSxNQUF0QixDQUE2QkYsS0FBN0IsRUFBb0MsQ0FBcEM7QUFDRDtBQUNGOzs7NkJBRVExQixNLEVBQVE7QUFDZixhQUFPLEtBQUtILEtBQUwsQ0FBV3dCLElBQVgsQ0FBZ0I7QUFBQSxlQUFRQyxLQUFLdEIsTUFBTCxLQUFnQkEsTUFBeEI7QUFBQSxPQUFoQixDQUFQO0FBQ0Q7Ozs0QkFFT1UsSyxFQUFPO0FBQ2IsYUFBTyxLQUFLYixLQUFMLENBQVd3QixJQUFYLENBQWdCO0FBQUEsZUFBUUMsS0FBS1osS0FBTCxLQUFlQSxLQUF2QjtBQUFBLE9BQWhCLENBQVA7QUFDRDs7OzBCQUVLRyxRLEVBQVU7QUFDZCxhQUFPLEtBQUtoQixLQUFMLENBQVd3QixJQUFYLENBQWdCO0FBQUEsZUFBUUMsS0FBS1QsUUFBTCxLQUFrQkEsUUFBMUI7QUFBQSxPQUFoQixDQUFQO0FBQ0Q7OzsrQkFFVWIsTSxFQUFRO0FBQ2pCLFVBQU02QixVQUFVLEtBQUtaLFFBQUwsQ0FBY2pCLE1BQWQsQ0FBaEI7QUFDQSxVQUFNMEIsUUFBUSxLQUFLN0IsS0FBTCxDQUFXOEIsT0FBWCxDQUFtQkUsT0FBbkIsQ0FBZDtBQUNBLFdBQUtoQyxLQUFMLENBQVcrQixNQUFYLENBQWtCRixLQUFsQixFQUF5QixDQUF6QjtBQUNBLGFBQU8sRUFBUDtBQUNEOztBQUVEOzs7OzhCQUNVMUIsTSxFQUFRO0FBQ2hCLFVBQU02QixVQUFVLEtBQUtaLFFBQUwsQ0FBY2pCLE1BQWQsQ0FBaEI7QUFDQSxhQUFPNkIsT0FBUDtBQUNEOzs7Ozs7a0JBR1ksSUFBSWpDLElBQUosRSIsImZpbGUiOiJ1c2Vyc01vZGVscy5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9IUC9EZXNrdG9wL3RoZUJvb3RjYW1wL3YxL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIi8vSW1wb3J0IGRlcGVuZGVuY2llc1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQnO1xyXG5pbXBvcnQgbWVldHVwTW9kZWwgZnJvbSAnLi4vbW9kZWxzL21lZXR1cHNNb2RlbHMnO1xyXG5cclxuXHJcbmNsYXNzIFVzZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy51c2VycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgc2lnbnVwKGRhdGEpIHtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSB7XHJcbiAgICAgIHVzZXJJZDogdXVpZC52NCgpLFxyXG4gICAgICByZWdpc3RlcmVkSWQ6IG1vbWVudC5ub3coKSxcclxuICAgICAgZmlyc3ROYW1lOiBkYXRhLmZpcnN0TmFtZSxcclxuICAgICAgbGFzdE5hbWU6IGRhdGEubGFzdE5hbWUsXHJcbiAgICAgIG90aGVyTmFtZTogZGF0YS5vdGhlck5hbWUgfHwgJycsXHJcbiAgICAgIHVzZXJOYW1lOiBkYXRhLnVzZXJOYW1lLFxyXG4gICAgICBlbWFpbDogZGF0YS5lbWFpbCxcclxuICAgICAgcGhvbmVOdW1iZXI6IGRhdGEucGhvbmVOdW1iZXIsXHJcbiAgICAgIGlzQWRtaW46IGRhdGEuaXNBZG1pbixcclxuICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQsXHJcbiAgICAgIGltYWdlOiBkYXRhLmltYWdlIHx8ICcnLFxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlcnMucHVzaChuZXdVc2VyKTtcclxuICAgIHJldHVybiBuZXdVc2VyO1xyXG4gIH1cclxuXHJcbiAgYXR0ZW5kTWVldHVwKGRhdGEpIHtcclxuICAgIGNvbnN0IGNvbmZpcm1Vc2VyID0gdGhpcy5maW5kVXNlcihkYXRhLnVzZXJJZCk7XHJcbiAgICBjb25zdCBjb25maXJtVXNlckF0dGVuZG5nID0gbWVldHVwTW9kZWwuYXR0ZW5kaW5nLmZpbmQodXNlciA9PiB1c2VyLnVzZXJJZCA9PT0gZGF0YS51c2VySWQpO1xyXG4gICAgaWYgKGNvbmZpcm1Vc2VyICYmICFjb25maXJtVXNlckF0dGVuZG5nKSB7XHJcbiAgICAgIGNvbnN0IGF0dGVuZGVlID0ge1xyXG4gICAgICAgIHVzZXJJZDogZGF0YS51c2VySWQsXHJcbiAgICAgICAgbWVldHVwSWQ6IGRhdGEubWVldHVwSWQsXHJcbiAgICAgICAgbWVldHVwOiBkYXRhLm1lZXR1cCxcclxuICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXHJcbiAgICAgIH07XHJcbiAgICAgIG1lZXR1cE1vZGVsLmF0dGVuZGluZy5wdXNoKGF0dGVuZGVlKTtcclxuICAgIH0gZWxzZSBpZiAoY29uZmlybVVzZXIgJiYgY29uZmlybVVzZXJBdHRlbmRuZykge1xyXG4gICAgICByZXR1cm4gJ1lvdSBhbHJlYWR5IHNpZ25lZCB1cCBmb3IgdGhpcyBldmVudCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ0luY29ycmVjdCBkYXRhIHN1cHBsaWVkJztcclxuICB9XHJcblxyXG4gIHVuQXR0ZW5kTWVldHVwKGRhdGEpIHtcclxuICAgIGNvbnN0IGNvbmZpcm1Vc2VyID0gdGhpcy5maW5kVXNlcihkYXRhLnVzZXJJZCk7XHJcbiAgICBjb25zdCBjb25maXJtVXNlckF0dGVuZG5nID0gbWVldHVwTW9kZWwuYXR0ZW5kaW5nLmZpbmQodXNlciA9PiB1c2VyLnVzZXJJZCA9PT0gZGF0YS51c2VySWQpO1xyXG4gICAgaWYgKGNvbmZpcm1Vc2VyICYmIGNvbmZpcm1Vc2VyQXR0ZW5kbmcpIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBtZWV0dXBNb2RlbC5hdHRlbmRpbmcuaW5kZXhPZihjb25maXJtVXNlckF0dGVuZG5nKTtcclxuICAgICAgbWVldHVwTW9kZWwuYXR0ZW5kaW5nLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5kVXNlcih1c2VySWQpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZXJzLmZpbmQodXNlciA9PiB1c2VyLnVzZXJJZCA9PT0gdXNlcklkKTtcclxuICB9XHJcblxyXG4gIGNvbmZpcm0oZW1haWwpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmVtYWlsID09PSBlbWFpbCk7XHJcbiAgfVxyXG5cclxuICBsb2dpbihwYXNzd29yZCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlcnMuZmluZCh1c2VyID0+IHVzZXIucGFzc3dvcmQgPT09IHBhc3N3b3JkKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVVzZXIodXNlcklkKSB7XHJcbiAgICBjb25zdCB0aGVVc2VyID0gdGhpcy5maW5kVXNlcih1c2VySWQpO1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVzZXJzLmluZGV4T2YodGhlVXNlcik7XHJcbiAgICB0aGlzLnVzZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICByZXR1cm4ge307XHJcbiAgfVxyXG5cclxuICAvLyB0byBiZSByZW5kZXJlZCBvbiB0aGUgcHJvZmlsZSBwYWdlXHJcbiAgdXNlckluZm9yKHVzZXJJZCkge1xyXG4gICAgY29uc3QgdGhlVXNlciA9IHRoaXMuZmluZFVzZXIodXNlcklkKTtcclxuICAgIHJldHVybiB0aGVVc2VyO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IFVzZXIoKTsiXX0=