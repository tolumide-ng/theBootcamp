{"version":3,"sources":["meetupsModels.js"],"names":["Meetup","meetups","attending","data","meetup","meetupId","uuid","v4","createdOn","moment","now","location","images","topic","happeningOn","tags","push","user","users","findUser","userId","getOne","rsvp","rsvpId","response","status","filter","attends","find","Date","theMeetup","index","indexOf","delMeetup","splice"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;IAEMA,M;AACJ,oBAAc;AAAA;;AACZ,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACD;;;;2BAEMC,I,EAAM;AACX,UAAMC,SAAS;AACbC,kBAAUC,eAAKC,EAAL,EADG;AAEbC,mBAAWC,iBAAOC,GAAP,EAFE;AAGbC,kBAAUR,KAAKQ,QAHF;AAIbC,gBAAQT,KAAKS,MAAL,IAAe,EAJV;AAKbC,eAAOV,KAAKU,KALC;AAMbC,qBAAaX,KAAKW,WANL;AAObC,cAAMZ,KAAKY;AAPE,OAAf;AASA,WAAKd,OAAL,CAAae,IAAb,CAAkBZ,MAAlB;AACA,aAAOA,MAAP;AACD;;AAED;;;;2BACOD,I,EAAM;AACX,UAAMc,OAAOC,sBAAMC,QAAN,CAAehB,KAAKiB,MAApB,CAAb;AACA,UAAMhB,SAAS,KAAKH,OAAL,CAAaoB,MAAb,CAAoBlB,KAAKE,QAAzB,CAAf;AACA,UAAMiB,OAAO;AACXjB,kBAAUD,OAAOC,QADN;AAEXkB,gBAAQjB,eAAKC,EAAL,EAFG;AAGXU,cAAMA,KAAKG,MAHA;AAIXI,kBAAUrB,KAAKsB;AAJJ,OAAb;AAMA,WAAKvB,SAAL,CAAec,IAAf,CAAoBM,IAApB;AACA,aAAOA,IAAP;AACD;;AAED;;;;wCACoBjB,Q,EAAU;AAC5B,aAAO,KAAKH,SAAL,CAAewB,MAAf,CAAsB;AAAA,eAAWC,QAAQtB,QAAR,KAAqBA,QAAhC;AAAA,OAAtB,CAAP;AACD;;AAED;;;;6BACS;AACP,aAAO,KAAKJ,OAAZ;AACD;;;2BAEMI,Q,EAAU;AACf,aAAO,KAAKJ,OAAL,CAAa2B,IAAb,CAAkB;AAAA,eAAUxB,OAAOC,QAAP,KAAoBA,QAA9B;AAAA,OAAlB,CAAP;AACD;;AAED;;;;gCACY;AACV,aAAO,KAAKJ,OAAL,CAAayB,MAAb,CAAoB;AAAA,eAAU,IAAIG,IAAJ,CAASzB,OAAOU,WAAhB,IAA+B,IAAIe,IAAJ,EAAzC;AAAA,OAApB,CAAP;AACD;;AAED;;;;yBACK1B,I,EAAM;AACT,UAAM2B,YAAY,KAAKT,MAAL,CAAYlB,KAAKE,QAAjB,CAAlB;AACA,UAAM0B,QAAQ,KAAK9B,OAAL,CAAa+B,OAAb,CAAqBF,SAArB,CAAd;AACA,WAAK7B,OAAL,CAAa8B,KAAb,EAAoBnB,MAApB,GAA6BT,KAAKS,MAAL,IAAekB,UAAUlB,MAAtD;AACA,WAAKX,OAAL,CAAa8B,KAAb,EAAoBlB,KAApB,GAA4BV,KAAKU,KAAL,IAAciB,UAAUjB,KAApD;AACA,WAAKZ,OAAL,CAAa8B,KAAb,EAAoBpB,QAApB,GAA+BR,KAAKQ,QAAL,IAAiBmB,UAAUnB,QAA1D;AACA,WAAKV,OAAL,CAAa8B,KAAb,EAAoBjB,WAApB,GAAkCX,KAAKW,WAAL,IAAoBgB,UAAUhB,WAAhE;AACA,WAAKb,OAAL,CAAa8B,KAAb,EAAoBhB,IAApB,GAA2BZ,KAAKY,IAAL,IAAae,UAAUf,IAAlD;;AAEA,aAAOe,SAAP;AACD;;;4BAEMzB,Q,EAAU;AACf,UAAM4B,YAAY,KAAKhC,OAAL,CAAa2B,IAAb,CAAkB;AAAA,eAAUxB,OAAOC,QAAP,KAAoBA,QAA9B;AAAA,OAAlB,CAAlB;AACA,UAAM0B,QAAQ,KAAK9B,OAAL,CAAa+B,OAAb,CAAqBC,SAArB,CAAd;AACA;AACA,WAAKhC,OAAL,CAAaiC,MAAb,CAAoBH,KAApB,EAA2B,CAA3B;AACA,aAAO,EAAP;AACD;;;;;;kBAGY,IAAI/B,MAAJ,E","file":"meetupsModels.js","sourceRoot":"C:/Users/HP/Desktop/theBootcamp/v1/models","sourcesContent":["import moment from 'moment';\nimport uuid from 'uuid';\nimport users from './usersModels';\n\nclass Meetup {\n  constructor() {\n    this.meetups = [];\n    this.attending = [];\n  }\n\n  create(data) {\n    const meetup = {\n      meetupId: uuid.v4(),\n      createdOn: moment.now(),\n      location: data.location,\n      images: data.images || '',\n      topic: data.topic,\n      happeningOn: data.happeningOn,\n      tags: data.tags,\n    };\n    this.meetups.push(meetup);\n    return meetup;\n  }\n\n  // a small checkbox/button an interested attendee clicks to display interest\n  attend(data) {\n    const user = users.findUser(data.userId);\n    const meetup = this.meetups.getOne(data.meetupId);\n    const rsvp = {\n      meetupId: meetup.meetupId,\n      rsvpId: uuid.v4(),\n      user: user.userId,\n      response: data.status,\n    };\n    this.attending.push(rsvp);\n    return rsvp;\n  }\n\n  // returns a list of the people attending the meetup\n  findAttendingMeetup(meetupId) {\n    return this.attending.filter(attends => attends.meetupId === meetupId);\n  }\n\n  // renders on the homepage, returns all the meetups\n  getAll() {\n    return this.meetups;\n  }\n\n  getOne(meetupId) {\n    return this.meetups.find(meetup => meetup.meetupId === meetupId);\n  }\n\n  // returns all upcoming meetups\n  upcomings() {\n    return this.meetups.filter(meetup => new Date(meetup.happeningOn) > new Date());\n  }\n\n  // Admin has the right to edit a meetup posted\n  edit(data) {\n    const theMeetup = this.getOne(data.meetupId);\n    const index = this.meetups.indexOf(theMeetup);\n    this.meetups[index].images = data.images || theMeetup.images;\n    this.meetups[index].topic = data.topic || theMeetup.topic;\n    this.meetups[index].location = data.location || theMeetup.location;\n    this.meetups[index].happeningOn = data.happeningOn || theMeetup.happeningOn;\n    this.meetups[index].tags = data.tags || theMeetup.tags;\n\n    return theMeetup;\n  }\n\n  delete(meetupId) {\n    const delMeetup = this.meetups.find(meetup => meetup.meetupId === meetupId);\n    const index = this.meetups.indexOf(delMeetup);\n    // Now splice it out\n    this.meetups.splice(index, 1);\n    return [];\n  }\n}\n\nexport default new Meetup();\n"]}