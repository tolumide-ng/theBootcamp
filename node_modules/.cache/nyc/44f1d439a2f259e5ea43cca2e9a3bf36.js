'use strict';var cov_x19pf1cys=function(){var path="C:\\Users\\HP\\Desktop\\theBootcamp\\v1\\controllers\\usersControllers.js",hash="4400bb63e01b64b3936b7ad8b7931b18495f76fc",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\HP\\Desktop\\theBootcamp\\v1\\controllers\\usersControllers.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:51}},"2":{start:{line:9,column:20},end:{line:9,column:56}},"3":{start:{line:11,column:39},end:{line:11,column:93}},"4":{start:{line:13,column:11},end:{line:85,column:1}},"5":{start:{line:17,column:15},end:{line:17,column:23}},"6":{start:{line:18,column:19},end:{line:18,column:29}},"7":{start:{line:19,column:21},end:{line:19,column:60}},"8":{start:{line:20,column:4},end:{line:38,column:5}},"9":{start:{line:21,column:6},end:{line:34,column:7}},"10":{start:{line:22,column:8},end:{line:30,column:9}},"11":{start:{line:23,column:24},end:{line:23,column:58}},"12":{start:{line:24,column:10},end:{line:29,column:13}},"13":{start:{line:31,column:8},end:{line:33,column:11}},"14":{start:{line:35,column:6},end:{line:37,column:9}},"15":{start:{line:39,column:4},end:{line:41,column:7}},"16":{start:{line:44,column:15},end:{line:44,column:23}},"17":{start:{line:46,column:19},end:{line:46,column:32}},"18":{start:{line:47,column:16},end:{line:47,column:26}},"19":{start:{line:48,column:21},end:{line:50,column:6}},"20":{start:{line:49,column:6},end:{line:49,column:34}},"21":{start:{line:51,column:4},end:{line:55,column:5}},"22":{start:{line:52,column:6},end:{line:54,column:9}},"23":{start:{line:56,column:20},end:{line:56,column:57}},"24":{start:{line:57,column:4},end:{line:64,column:5}},"25":{start:{line:58,column:6},end:{line:63,column:9}},"26":{start:{line:65,column:4},end:{line:67,column:7}},"27":{start:{line:70,column:15},end:{line:70,column:23}},"28":{start:{line:71,column:16},end:{line:71,column:52}},"29":{start:{line:72,column:4},end:{line:80,column:5}},"30":{start:{line:73,column:17},end:{line:73,column:62}},"31":{start:{line:74,column:6},end:{line:79,column:9}},"32":{start:{line:81,column:4},end:{line:83,column:7}},"33":{start:{line:87,column:0},end:{line:87,column:23}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},"1":{name:"signUp",decl:{start:{line:16,column:19},end:{line:16,column:25}},loc:{start:{line:16,column:36},end:{line:42,column:3}},line:16},"2":{name:"login",decl:{start:{line:43,column:18},end:{line:43,column:23}},loc:{start:{line:43,column:34},end:{line:68,column:3}},line:43},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:54},end:{line:48,column:55}},loc:{start:{line:48,column:70},end:{line:50,column:5}},line:48},"4":{name:"userInfo",decl:{start:{line:69,column:21},end:{line:69,column:29}},loc:{start:{line:69,column:40},end:{line:84,column:3}},line:69}},branchMap:{"0":{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},"1":{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:"binary-expr",locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},"2":{loc:{start:{line:20,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:38,column:5}},{start:{line:20,column:4},end:{line:38,column:5}}],line:20},"3":{loc:{start:{line:20,column:8},end:{line:20,column:93}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:22}},{start:{line:20,column:26},end:{line:20,column:39}},{start:{line:20,column:43},end:{line:20,column:53}},{start:{line:20,column:57},end:{line:20,column:73}},{start:{line:20,column:77},end:{line:20,column:93}}],line:20},"4":{loc:{start:{line:21,column:6},end:{line:34,column:7}},type:"if",locations:[{start:{line:21,column:6},end:{line:34,column:7}},{start:{line:21,column:6},end:{line:34,column:7}}],line:21},"5":{loc:{start:{line:22,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:30,column:9}},{start:{line:22,column:8},end:{line:30,column:9}}],line:22},"6":{loc:{start:{line:51,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:51,column:4},end:{line:55,column:5}},{start:{line:51,column:4},end:{line:55,column:5}}],line:51},"7":{loc:{start:{line:57,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:64,column:5}},{start:{line:57,column:4},end:{line:64,column:5}}],line:57},"8":{loc:{start:{line:72,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:80,column:5}},{start:{line:72,column:4},end:{line:80,column:5}}],line:72}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_x19pf1cys.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _usersModels=(cov_x19pf1cys.s[1]++,require('../models/usersModels'));var _usersModels2=(cov_x19pf1cys.s[2]++,_interopRequireDefault(_usersModels));function _interopRequireDefault(obj){cov_x19pf1cys.f[0]++;cov_x19pf1cys.s[3]++;return(cov_x19pf1cys.b[1][0]++,obj)&&(cov_x19pf1cys.b[1][1]++,obj.__esModule)?(cov_x19pf1cys.b[0][0]++,obj):(cov_x19pf1cys.b[0][1]++,{default:obj});}var User=(cov_x19pf1cys.s[4]++,{/* we need to confirm that the email does
  previosly exist */signUp:function signUp(req,res){cov_x19pf1cys.f[1]++;var data=(cov_x19pf1cys.s[5]++,req.body);var theEmail=(cov_x19pf1cys.s[6]++,data.email);var theConfirm=(cov_x19pf1cys.s[7]++,_usersModels2.default.confirm(theEmail));cov_x19pf1cys.s[8]++;if((cov_x19pf1cys.b[3][0]++,data.firstName)&&(cov_x19pf1cys.b[3][1]++,data.lastName)&&(cov_x19pf1cys.b[3][2]++,data.email)&&(cov_x19pf1cys.b[3][3]++,data.phoneNumber)&&(cov_x19pf1cys.b[3][4]++,data.re_password)){cov_x19pf1cys.b[2][0]++;cov_x19pf1cys.s[9]++;if(data.re_password===data.password){cov_x19pf1cys.b[4][0]++;cov_x19pf1cys.s[10]++;if(!theConfirm){cov_x19pf1cys.b[5][0]++;var theUser=(cov_x19pf1cys.s[11]++,_usersModels2.default.signup(data));cov_x19pf1cys.s[12]++;return res.status(201).json({firstName:theUser.firstName,lastName:theUser.lastName,email:theUser.email,phoneNumber:theUser.phoneNumber});}else{cov_x19pf1cys.b[5][1]++;}cov_x19pf1cys.s[13]++;return res.status(409).json({message:'Email already exist'});}else{cov_x19pf1cys.b[4][1]++;}cov_x19pf1cys.s[14]++;return res.status(401).json({message:'Password does not match, try again!'});}else{cov_x19pf1cys.b[2][1]++;}cov_x19pf1cys.s[15]++;return res.status(400).json({message:'Bad Syntax: All fields are required'});},login:function login(req,res){cov_x19pf1cys.f[2]++;var data=(cov_x19pf1cys.s[16]++,req.body);/* const { password, email } = password; */var password=(cov_x19pf1cys.s[17]++,data.password);var email=(cov_x19pf1cys.s[18]++,data.email);var checkEmail=(cov_x19pf1cys.s[19]++,_usersModels2.default.users.find(function(user){cov_x19pf1cys.f[3]++;cov_x19pf1cys.s[20]++;return user.email===email;}));cov_x19pf1cys.s[21]++;if(!checkEmail){cov_x19pf1cys.b[6][0]++;cov_x19pf1cys.s[22]++;return res.status(401).json({message:'Auth failed: Password/Email does not exist'});}else{cov_x19pf1cys.b[6][1]++;}var available=(cov_x19pf1cys.s[23]++,_usersModels2.default.login(password));cov_x19pf1cys.s[24]++;if(available){cov_x19pf1cys.b[7][0]++;cov_x19pf1cys.s[25]++;return res.status(200).json({firstName:available.firstName,lastName:available.lastName,email:available.email,phoneNumber:available.phoneNumber});}else{cov_x19pf1cys.b[7][1]++;}cov_x19pf1cys.s[26]++;return res.status(401).json({message:'Auth failed'});},userInfo:function userInfo(req,res){cov_x19pf1cys.f[4]++;var data=(cov_x19pf1cys.s[27]++,req.body);var exist=(cov_x19pf1cys.s[28]++,_usersModels2.default.findUser(data));cov_x19pf1cys.s[29]++;if(exist){cov_x19pf1cys.b[8][0]++;var info=(cov_x19pf1cys.s[30]++,_usersModels2.default.userInfor(exist.userId));cov_x19pf1cys.s[31]++;res.status(200).json({firstName:info.firstName,lastName:info.lastName,email:info.email,phoneNumber:info.phoneNumber});}else{cov_x19pf1cys.b[8][1]++;}cov_x19pf1cys.s[32]++;res.status(404).json({message:'User Not Found'});}});cov_x19pf1cys.s[33]++;exports.default=User;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzQ29udHJvbGxlcnMuanMiXSwibmFtZXMiOlsiVXNlciIsInNpZ25VcCIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidGhlRW1haWwiLCJlbWFpbCIsInRoZUNvbmZpcm0iLCJ1c2VycyIsImNvbmZpcm0iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBob25lTnVtYmVyIiwicmVfcGFzc3dvcmQiLCJwYXNzd29yZCIsInRoZVVzZXIiLCJzaWdudXAiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImxvZ2luIiwiY2hlY2tFbWFpbCIsImZpbmQiLCJ1c2VyIiwiYXZhaWxhYmxlIiwidXNlckluZm8iLCJleGlzdCIsImZpbmRVc2VyIiwiaW5mbyIsInVzZXJJbmZvciIsInVzZXJJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLE9BQU87QUFDWDs7QUFFQUMsUUFIVyxrQkFHSkMsR0FISSxFQUdDQyxHQUhELEVBR007QUFDZixRQUFNQyxPQUFPRixJQUFJRyxJQUFqQjtBQUNBLFFBQU1DLFdBQVdGLEtBQUtHLEtBQXRCO0FBQ0EsUUFBTUMsYUFBYUMsc0JBQU1DLE9BQU4sQ0FBY0osUUFBZCxDQUFuQjtBQUNBLFFBQUlGLEtBQUtPLFNBQUwsSUFBa0JQLEtBQUtRLFFBQXZCLElBQW1DUixLQUFLRyxLQUF4QyxJQUNDSCxLQUFLUyxXQUROLElBQ3FCVCxLQUFLVSxXQUQ5QixFQUMyQztBQUN6QyxVQUFJVixLQUFLVSxXQUFMLEtBQXFCVixLQUFLVyxRQUE5QixFQUF3QztBQUN0QyxZQUFJLENBQUNQLFVBQUwsRUFBaUI7QUFDZixjQUFNUSxVQUFVUCxzQkFBTVEsTUFBTixDQUFhYixJQUFiLENBQWhCO0FBQ0EsaUJBQU9ELElBQUllLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQlIsdUJBQVdLLFFBQVFMLFNBRE87QUFFMUJDLHNCQUFVSSxRQUFRSixRQUZRO0FBRzFCTCxtQkFBT1MsUUFBUVQsS0FIVztBQUkxQk0seUJBQWFHLFFBQVFIO0FBSkssV0FBckIsQ0FBUDtBQU1EO0FBQ0QsZUFBT1YsSUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxtQkFBUztBQURpQixTQUFyQixDQUFQO0FBR0Q7QUFDRCxhQUFPakIsSUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxpQkFBUztBQURpQixPQUFyQixDQUFQO0FBR0Q7QUFDRCxXQUFPakIsSUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxlQUFTO0FBRGlCLEtBQXJCLENBQVA7QUFHRCxHQTlCVTtBQWdDWEMsT0FoQ1csaUJBZ0NMbkIsR0FoQ0ssRUFnQ0FDLEdBaENBLEVBZ0NLO0FBQ2QsUUFBTUMsT0FBT0YsSUFBSUcsSUFBakI7QUFDQTtBQUNBLFFBQU1VLFdBQVdYLEtBQUtXLFFBQXRCO0FBQ0EsUUFBTVIsUUFBUUgsS0FBS0csS0FBbkI7QUFDQSxRQUFNZSxhQUFhYixzQkFBTUEsS0FBTixDQUFZYyxJQUFaLENBQWlCO0FBQUEsYUFBUUMsS0FBS2pCLEtBQUwsS0FBZUEsS0FBdkI7QUFBQSxLQUFqQixDQUFuQjtBQUNBLFFBQUksQ0FBQ2UsVUFBTCxFQUFpQjtBQUNmLGFBQU9uQixJQUFJZSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJDLGlCQUFTO0FBRGlCLE9BQXJCLENBQVA7QUFHRDtBQUNELFFBQU1LLFlBQVloQixzQkFBTVksS0FBTixDQUFZTixRQUFaLENBQWxCO0FBQ0EsUUFBSVUsU0FBSixFQUFlO0FBQ2IsYUFBT3RCLElBQUllLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQlIsbUJBQVdjLFVBQVVkLFNBREs7QUFFMUJDLGtCQUFVYSxVQUFVYixRQUZNO0FBRzFCTCxlQUFPa0IsVUFBVWxCLEtBSFM7QUFJMUJNLHFCQUFhWSxVQUFVWjtBQUpHLE9BQXJCLENBQVA7QUFNRDtBQUNELFdBQU9WLElBQUllLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsZUFBUztBQURpQixLQUFyQixDQUFQO0FBR0QsR0F2RFU7QUF5RFhNLFVBekRXLG9CQXlERnhCLEdBekRFLEVBeURHQyxHQXpESCxFQXlEUTtBQUNqQixRQUFNQyxPQUFPRixJQUFJRyxJQUFqQjtBQUNBLFFBQU1zQixRQUFRbEIsc0JBQU1tQixRQUFOLENBQWV4QixJQUFmLENBQWQ7QUFDQSxRQUFJdUIsS0FBSixFQUFXO0FBQ1QsVUFBTUUsT0FBT3BCLHNCQUFNcUIsU0FBTixDQUFnQkgsTUFBTUksTUFBdEIsQ0FBYjtBQUNBNUIsVUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ25CUixtQkFBV2tCLEtBQUtsQixTQURHO0FBRW5CQyxrQkFBVWlCLEtBQUtqQixRQUZJO0FBR25CTCxlQUFPc0IsS0FBS3RCLEtBSE87QUFJbkJNLHFCQUFhZ0IsS0FBS2hCO0FBSkMsT0FBckI7QUFNRDtBQUNEVixRQUFJZSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDbkJDLGVBQVM7QUFEVSxLQUFyQjtBQUdEO0FBeEVVLENBQWI7O2tCQTJFZXBCLEkiLCJmaWxlIjoidXNlcnNDb250cm9sbGVycy5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9IUC9EZXNrdG9wL3RoZUJvb3RjYW1wL3YxL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVzZXJzIGZyb20gJy4uL21vZGVscy91c2Vyc01vZGVscyc7XHJcblxyXG5jb25zdCBVc2VyID0ge1xyXG4gIC8qIHdlIG5lZWQgdG8gY29uZmlybSB0aGF0IHRoZSBlbWFpbCBkb2VzXHJcbiAgcHJldmlvc2x5IGV4aXN0ICovXHJcbiAgc2lnblVwKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCB0aGVFbWFpbCA9IGRhdGEuZW1haWw7XHJcbiAgICBjb25zdCB0aGVDb25maXJtID0gdXNlcnMuY29uZmlybSh0aGVFbWFpbCk7XHJcbiAgICBpZiAoZGF0YS5maXJzdE5hbWUgJiYgZGF0YS5sYXN0TmFtZSAmJiBkYXRhLmVtYWlsXHJcbiAgICAgICYmIGRhdGEucGhvbmVOdW1iZXIgJiYgZGF0YS5yZV9wYXNzd29yZCkge1xyXG4gICAgICBpZiAoZGF0YS5yZV9wYXNzd29yZCA9PT0gZGF0YS5wYXNzd29yZCkge1xyXG4gICAgICAgIGlmICghdGhlQ29uZmlybSkge1xyXG4gICAgICAgICAgY29uc3QgdGhlVXNlciA9IHVzZXJzLnNpZ251cChkYXRhKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdGhlVXNlci5maXJzdE5hbWUsXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiB0aGVVc2VyLmxhc3ROYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdGhlVXNlci5lbWFpbCxcclxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHRoZVVzZXIucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6ICdFbWFpbCBhbHJlYWR5IGV4aXN0JyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBkb2VzIG5vdCBtYXRjaCwgdHJ5IGFnYWluIScsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogJ0JhZCBTeW50YXg6IEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJyxcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIGxvZ2luKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAvKiBjb25zdCB7IHBhc3N3b3JkLCBlbWFpbCB9ID0gcGFzc3dvcmQ7ICovXHJcbiAgICBjb25zdCBwYXNzd29yZCA9IGRhdGEucGFzc3dvcmQ7XHJcbiAgICBjb25zdCBlbWFpbCA9IGRhdGEuZW1haWw7XHJcbiAgICBjb25zdCBjaGVja0VtYWlsID0gdXNlcnMudXNlcnMuZmluZCh1c2VyID0+IHVzZXIuZW1haWwgPT09IGVtYWlsKTtcclxuICAgIGlmICghY2hlY2tFbWFpbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6ICdBdXRoIGZhaWxlZDogUGFzc3dvcmQvRW1haWwgZG9lcyBub3QgZXhpc3QnLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGF2YWlsYWJsZSA9IHVzZXJzLmxvZ2luKHBhc3N3b3JkKTtcclxuICAgIGlmIChhdmFpbGFibGUpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBmaXJzdE5hbWU6IGF2YWlsYWJsZS5maXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGF2YWlsYWJsZS5sYXN0TmFtZSxcclxuICAgICAgICBlbWFpbDogYXZhaWxhYmxlLmVtYWlsLFxyXG4gICAgICAgIHBob25lTnVtYmVyOiBhdmFpbGFibGUucGhvbmVOdW1iZXIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogJ0F1dGggZmFpbGVkJyxcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIHVzZXJJbmZvKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBleGlzdCA9IHVzZXJzLmZpbmRVc2VyKGRhdGEpO1xyXG4gICAgaWYgKGV4aXN0KSB7XHJcbiAgICAgIGNvbnN0IGluZm8gPSB1c2Vycy51c2VySW5mb3IoZXhpc3QudXNlcklkKTtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGZpcnN0TmFtZTogaW5mby5maXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGluZm8ubGFzdE5hbWUsXHJcbiAgICAgICAgZW1haWw6IGluZm8uZW1haWwsXHJcbiAgICAgICAgcGhvbmVOdW1iZXI6IGluZm8ucGhvbmVOdW1iZXIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnLFxyXG4gICAgfSk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il19