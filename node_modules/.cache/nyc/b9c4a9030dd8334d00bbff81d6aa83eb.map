{"version":3,"sources":["usersModels.js"],"names":["User","users","data","newUser","userId","uuid","v4","registeredId","moment","now","firstName","lastName","otherName","userName","email","phoneNumber","isAdmin","password","image","push","confirmUser","findUser","confirmUserAttendng","meetupModel","attending","find","user","attendee","meetupId","meetup","index","indexOf","splice","theUser"],"mappings":";;;;;;qjBAAA;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAGMA,I;AACJ,kBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAa,EAAb;AACD;;;;2BAEMC,I,EAAM;AACX,UAAMC,UAAU;AACdC,gBAAQC,eAAKC,EAAL,EADM;AAEdC,sBAAcC,iBAAOC,GAAP,EAFA;AAGdC,mBAAWR,KAAKQ,SAHF;AAIdC,kBAAUT,KAAKS,QAJD;AAKdC,mBAAWV,KAAKU,SAAL,IAAkB,EALf;AAMdC,kBAAUX,KAAKW,QAND;AAOdC,eAAOZ,KAAKY,KAPE;AAQdC,qBAAab,KAAKa,WARJ;AASdC,iBAASd,KAAKc,OATA;AAUdC,kBAAUf,KAAKe,QAVD;AAWdC,eAAOhB,KAAKgB,KAAL,IAAc;AAXP,OAAhB;AAaA,WAAKjB,KAAL,CAAWkB,IAAX,CAAgBhB,OAAhB;AACA,aAAOA,OAAP;AACD;;;iCAEYD,I,EAAM;AACjB,UAAMkB,cAAc,KAAKC,QAAL,CAAcnB,KAAKE,MAAnB,CAApB;AACA,UAAMkB,sBAAsBC,wBAAYC,SAAZ,CAAsBC,IAAtB,CAA2B;AAAA,eAAQC,KAAKtB,MAAL,KAAgBF,KAAKE,MAA7B;AAAA,OAA3B,CAA5B;AACA,UAAIgB,eAAe,CAACE,mBAApB,EAAyC;AACvC,YAAMK,WAAW;AACfvB,kBAAQF,KAAKE,MADE;AAEfwB,oBAAU1B,KAAK0B,QAFA;AAGfC,kBAAQ3B,KAAK2B,MAHE;AAIfH,gBAAMxB,KAAKwB;AAJI,SAAjB;AAMAH,gCAAYC,SAAZ,CAAsBL,IAAtB,CAA2BQ,QAA3B;AACD,OARD,MAQO,IAAIP,eAAeE,mBAAnB,EAAwC;AAC7C,eAAO,sCAAP;AACD;AACD,aAAO,yBAAP;AACD;;;mCAEcpB,I,EAAM;AACnB,UAAMkB,cAAc,KAAKC,QAAL,CAAcnB,KAAKE,MAAnB,CAApB;AACA,UAAMkB,sBAAsBC,wBAAYC,SAAZ,CAAsBC,IAAtB,CAA2B;AAAA,eAAQC,KAAKtB,MAAL,KAAgBF,KAAKE,MAA7B;AAAA,OAA3B,CAA5B;AACA,UAAIgB,eAAeE,mBAAnB,EAAwC;AACtC,YAAMQ,QAAQP,wBAAYC,SAAZ,CAAsBO,OAAtB,CAA8BT,mBAA9B,CAAd;AACAC,gCAAYC,SAAZ,CAAsBQ,MAAtB,CAA6BF,KAA7B,EAAoC,CAApC;AACD;AACF;;;6BAEQ1B,M,EAAQ;AACf,aAAO,KAAKH,KAAL,CAAWwB,IAAX,CAAgB;AAAA,eAAQC,KAAKtB,MAAL,KAAgBA,MAAxB;AAAA,OAAhB,CAAP;AACD;;;4BAEOU,K,EAAO;AACb,aAAO,KAAKb,KAAL,CAAWwB,IAAX,CAAgB;AAAA,eAAQC,KAAKZ,KAAL,KAAeA,KAAvB;AAAA,OAAhB,CAAP;AACD;;;0BAEKG,Q,EAAU;AACd,aAAO,KAAKhB,KAAL,CAAWwB,IAAX,CAAgB;AAAA,eAAQC,KAAKT,QAAL,KAAkBA,QAA1B;AAAA,OAAhB,CAAP;AACD;;;+BAEUb,M,EAAQ;AACjB,UAAM6B,UAAU,KAAKZ,QAAL,CAAcjB,MAAd,CAAhB;AACA,UAAM0B,QAAQ,KAAK7B,KAAL,CAAW8B,OAAX,CAAmBE,OAAnB,CAAd;AACA,WAAKhC,KAAL,CAAW+B,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACA,aAAO,EAAP;AACD;;AAED;;;;8BACU1B,M,EAAQ;AAChB,UAAM6B,UAAU,KAAKZ,QAAL,CAAcjB,MAAd,CAAhB;AACA,aAAO6B,OAAP;AACD;;;;;;kBAGY,IAAIjC,IAAJ,E","file":"usersModels.js","sourceRoot":"C:/Users/HP/Desktop/theBootcamp/v1/models","sourcesContent":["//Import dependencies\r\nimport moment from 'moment';\r\nimport uuid from 'uuid';\r\nimport meetupModel from '../models/meetupsModels';\r\n\r\n\r\nclass User {\r\n  constructor() {\r\n    this.users = [];\r\n  }\r\n\r\n  signup(data) {\r\n    const newUser = {\r\n      userId: uuid.v4(),\r\n      registeredId: moment.now(),\r\n      firstName: data.firstName,\r\n      lastName: data.lastName,\r\n      otherName: data.otherName || '',\r\n      userName: data.userName,\r\n      email: data.email,\r\n      phoneNumber: data.phoneNumber,\r\n      isAdmin: data.isAdmin,\r\n      password: data.password,\r\n      image: data.image || '',\r\n    };\r\n    this.users.push(newUser);\r\n    return newUser;\r\n  }\r\n\r\n  attendMeetup(data) {\r\n    const confirmUser = this.findUser(data.userId);\r\n    const confirmUserAttendng = meetupModel.attending.find(user => user.userId === data.userId);\r\n    if (confirmUser && !confirmUserAttendng) {\r\n      const attendee = {\r\n        userId: data.userId,\r\n        meetupId: data.meetupId,\r\n        meetup: data.meetup,\r\n        user: data.user,\r\n      };\r\n      meetupModel.attending.push(attendee);\r\n    } else if (confirmUser && confirmUserAttendng) {\r\n      return 'You already signed up for this event';\r\n    }\r\n    return 'Incorrect data supplied';\r\n  }\r\n\r\n  unAttendMeetup(data) {\r\n    const confirmUser = this.findUser(data.userId);\r\n    const confirmUserAttendng = meetupModel.attending.find(user => user.userId === data.userId);\r\n    if (confirmUser && confirmUserAttendng) {\r\n      const index = meetupModel.attending.indexOf(confirmUserAttendng);\r\n      meetupModel.attending.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  findUser(userId) {\r\n    return this.users.find(user => user.userId === userId);\r\n  }\r\n\r\n  confirm(email) {\r\n    return this.users.find(user => user.email === email);\r\n  }\r\n\r\n  login(password) {\r\n    return this.users.find(user => user.password === password);\r\n  }\r\n\r\n  deleteUser(userId) {\r\n    const theUser = this.findUser(userId);\r\n    const index = this.users.indexOf(theUser);\r\n    this.users.splice(index, 1);\r\n    return {};\r\n  }\r\n\r\n  // to be rendered on the profile page\r\n  userInfor(userId) {\r\n    const theUser = this.findUser(userId);\r\n    return theUser;\r\n  }\r\n}\r\n\r\nexport default new User();"]}